<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Liste de PrÃ©sence UCAO-ThÃ©atre</title>

  <!-- ICÃ”NES -->
  <link rel="icon" href="icon-512.png" type="image/png">
  <link rel="apple-touch-icon" href="icon-512.png">

  <!-- MANIFEST -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#3c40c6">

  <!-- STYLE -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- SPLASH SCREEN -->
  <div id="splash" class="splash">
    <img src="icon-512.png" alt="Logo" class="splash-logo">
    <h1>Liste de PrÃ©sence UCAO-ThÃ©atre</h1>
    <p>Chargement...</p>
  </div>

  <!-- TOP BAR -->
  <header class="topbar">
    <h2>ğŸ“‹ Liste de PrÃ©sence UCAO-ThÃ©atre</h2>

    <div class="topbar-buttons">
      <button id="themeBtn">ğŸŒ™</button>
      <button id="downloadBtn">â¬‡ Export</button>
    </div>

    <div class="code-container">
      <h3>DÃ©finir / Modifier le code secret</h3>
      <input id="secretCode" type="password" placeholder="Entrez le code secret">
      <button onclick="toggleVisibility('secretCode')">ğŸ‘ï¸</button>
      <button onclick="saveSecretCode()">Enregistrer</button>

      <hr>

      <h3>VÃ©rifier un code</h3>
<div class="input-wrapper">
  <input id="codeToCheck" type="password" placeholder="Entrez un code">
  <button type="button" onclick="toggleVisibility('codeToCheck')" class="eye-btn">ğŸ‘ï¸</button>
</div>
<button onclick="checkCode()">VÃ©rifier</button>
<p id="result"></p>


    <!-- MENU PAGES -->
    <div class="pages-menu">
      <button onclick="changePage(-1)">â¬… Page prÃ©cÃ©dente</button>
      <select id="pageSelector" onchange="jumpToPage(this.value)"></select>
      <button onclick="changePage(1)">Page suivante â¡</button>
      <span id="pageLabel">Page 1</span>
    </div>
  </header>

  <!-- LOGIN RESPONSABLE -->
  <section class="login">
    <input type="password" id="password" placeholder="Mot de passe Responsable">
  </section>

  <!-- LISTE MEMBRES -->
  <main id="members"></main>

  <!-- ACTIONS FOOTER -->
  <footer class="footer-actions">
    <button id="addMember">+ Ajouter un membre</button>
    <button id="resetData" class="danger">RÃ©initialiser</button>
  </footer>

  <!-- MODAL AJOUT MEMBRE -->
  <div id="modalAdd" class="modal hidden">
    <div class="modal-card">
      <h3>Ajouter un membre</h3>
      <input id="newName" placeholder="Nom & PrÃ©nom">
      <div class="modal-actions">
        <button id="saveNew">Enregistrer</button>
        <button id="cancelNew" class="danger">Annuler</button>
      </div>
    </div>
  </div>

  <!-- SCRIPTS -->
  <script src="app.js"></script>
  <script>
    window.addEventListener('load', () => {
      setTimeout(() => document.getElementById('splash').classList.add('hidden'), 800);
    });

    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js')
        .then(() => console.log('Service Worker actif'));
    }
  </script>
</body>
</html>
