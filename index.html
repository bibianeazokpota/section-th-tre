<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Liste de PrÃ©sence Section ThÃ©atre</title>
<link rel="stylesheet" href="style.css" />
<link rel="manifest" href="manifest.json" />
</head>
<body>

<!-- SPLASH (sera cachÃ© aprÃ¨s chargement) -->
<div id="splash" class="splash">
  <div class="splash-content">
    <img src="icon.svg" alt="logo" class="splash-logo"/>
    <h1>Liste De PrÃ©sence</h1>
    <p>Chargementâ€¦</p>
  </div>
</div>

<!-- TOPBAR -->
<div class="topbar">
  <div class="left">
    <h2>ğŸ“‹ Liste de PrÃ©sence Section ThÃ©atre</h2>
    <p id="date-box"></p>
  </div>
  <div class="right">
    <button id="downloadBtn" title="Exporter (Excel/CSV)">â¬‡ï¸ Export</button>
    <button id="themeBtn" title="Mode sombre / clair">ğŸŒ™</button>
  </div>
</div>

<!-- Zone mot de passe -->
<section class="login-box">
  <input type="password" id="password" placeholder="Mot de passe Responsable" />
</section>

<!-- Contenu principal -->
<main id="main">
  <section id="members"></section>

  <div class="actions-footer">
    <button id="resetData" class="danger">RÃ©initialiser la journÃ©e</button>
    <button id="addMember">+ Ajouter un membre</button>
  </div>
</main>

<!-- Modal Ajouter -->
<div id="modalAdd" class="modal hidden">
  <div class="modal-card">
    <h3>Ajouter un membre</h3>
    <input id="newName" placeholder="Nom & PrÃ©nom" />
    <div class="modal-actions">
      <button id="saveNew">Enregistrer</button>
      <button id="cancelNew" class="danger">Annuler</button>
    </div>
  </div>
</div>

<script src="app.js"></script>
<script>
  // register SW
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js')
      .then(()=>console.log('SW enregistrÃ©'))
      .catch(e=>console.warn('SW erreur', e));
  }

  // hide splash after load
  window.addEventListener('load', () => {
    setTimeout(()=> {
      const s = document.getElementById('splash');
      if(s) s.classList.add('hidden');
    }, 800);
  });
</script>
</body>
</html>
